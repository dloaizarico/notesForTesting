version: 1
env:
  variables:
    DEPLOY_KEY: LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFBQUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUJsd0FBQUFkemMyZ3RjbgpOaEFBQUFBd0VBQVFBQUFZRUE1Y0NKVC9xemdwNzBtZXFxMmNCeVBJV1p1U3FaeStJN1c3R3h0NVA5eWNCVmkyZzhoTHZKCmgybEJNQVF4UTMzYzg5UEVXR25CRFJBeGF5bjBtRFZLQVVZYTRCVngwem1kQU5mRjBMWFJYcFkxeUpwditsRFFTWm94R0cKT2piUzl0ZVFRRWFmaFI4TldMY1d6WTZBb0xOdGlUdFhTcWxFcXNsdTc3eHc1MThBRHJkcWM5S2twM1VuZVJ1aGFEYmVWdwpKTWxhaFd4Yjc4N0xmOG9QeVFzS1NIekhNbThiT21CMG0yOE9tdXBCL1krZEUrSm9YRC9yb0dRTWxWVmd5dkMvRUw5R2M5CnpvbmxqMU1MLzl2Mkl4MHlLZUVJdUZ5YkNlY1lJVTZKcThSVVB6RnFYanJPcXdWVVp5NFJzZlpuNGxMTzNRMkdmUEpWZXMKTDZuNENYdkMzcUdkQ3ZZMW50TVNuRXVxREJaNGRKK0FTQmhUc2w5VTl6SThkc0dGZTd6ZmlBcFdtUTl2UHVkS1NTSVNkYwpnY2w0MG5XR3l5enFZaWhrV3JKcDRmRlMyMFdBNmQwS3AyTzBxdWJrRDBqaXZhT2N6Y2RIbzN3NU9WZ2F0TTh3eDRPOHNRCmFrZ2gyZFFtUzMvTUc5eE5DTW1uOFdNZTZ0NG1udjU0akJmT1JldTFBQUFGa0ZFK0ZQcFJQaFQ2QUFBQUIzTnphQzF5YzIKRUFBQUdCQU9YQWlVLzZzNEtlOUpucXF0bkFjanlGbWJrcW1jdmlPMXV4c2JlVC9jbkFWWXRvUElTN3lZZHBRVEFFTVVOOQozUFBUeEZocHdRMFFNV3NwOUpnMVNnRkdHdUFWY2RNNW5RRFh4ZEMxMFY2V05jaWFiL3BRMEVtYU1SaGpvMjB2YlhrRUJHCm40VWZEVmkzRnMyT2dLQ3piWWs3VjBxcFJLckpidSs4Y09kZkFBNjNhblBTcEtkMUoza2JvV2cyM2xjQ1RKV29Wc1crL08KeTMvS0Q4a0xDa2g4eHpKdkd6cGdkSnR2RHBycVFmMlBuUlBpYUZ3LzY2QmtESlZWWU1yd3Z4Qy9SblBjNko1WTlUQy8vYgo5aU1kTWluaENMaGNtd25uR0NGT2lhdkVWRDh4YWw0Nnpxc0ZWR2N1RWJIMlorSlN6dDBOaG56eVZYckMrcCtBbDd3dDZoCm5RcjJOWjdURXB4THFnd1dlSFNmZ0VnWVU3SmZWUGN5UEhiQmhYdTgzNGdLVnBrUGJ6N25Ta2tpRW5YSUhKZU5KMWhzc3MKNm1Jb1pGcXlhZUh4VXR0RmdPbmRDcWRqdEtybTVBOUk0cjJqbk0zSFI2TjhPVGxZR3JUUE1NZUR2TEVHcElJZG5VSmt0Lwp6QnZjVFFqSnAvRmpIdXJlSnA3K2VJd1h6a1hydFFBQUFBTUJBQUVBQUFHQUJXWVUwL0JNTDVHVXBkbEIwb1FYS3h6b2s5ClZRYjk0TkR3YUo2b3BydUVYd3ZLbmlZaXdYZkRzWThRdm9MSEhVczFZU2t4RkpIQWw1WDg5SWxCc01kaU16bG5ocWlGQWUKUkZyTnB5M2VrWjV0L1J6RDdObmhTeGw0ZGQ1QmhOdE1jeitJNndTT3lGMzhQTm9WN3IzdHJZaEJVRTVCZytLTlU2Nmg4LwpkL0JmaS9qN1kyVmJ3U09ibmRqc1hncU1CdmRpM1ZGcldKSTRWMGVyaEF6clNYdFVSWldmSUtiY0MrZkxpTFcxQ041R3R2CmdYd2NmNjV3MXdBQzI2OTU2c3JsWnhMU1Z0d2xNcmZrd0pMU0RiRUFMeU0vYUpSNDlhVmtKQzZzV1MwNnB2SWh2WnBmYXMKQm1hQXlKL2VxL3ExVi9vNEUySEV0T3FpVTlxaHhDbXp0SlhPZnVGRmRHZnZzTExiSm50anBDQkRqRWtKWVE2M1pWUW5hWApFM2JLeldhNmwyQnNXdUV6THMrM3Y4UUVLWFVjOE80bjhPaTludmV1K0dNSGFzRG8rakhOMFczdVlWSXMyMmlDSEtEeFYrCmRuViszUHpkTnZHbXZHU1J6bmtGeEZVMTl1YTVQY2ZaVlc1ZG5GaGwwbS9WV0lMZmFZSW4zbDUyMmpBSVdTRzRJeEFBQUEKd1FESGRDUUpDdjI5SDBRVXdOMlVWejg0a1hBSHNEZmNyeTRsRWtUT0NiR0Y2K3ZvbXcwZEovK0d6bkR5ZFpLaGRQTWN5TgpDMnpJWC8zcllwK0hDaDZiMDRVN0p2SGpweG51dThya0p1eDM2MFRySHhsdWllQjdRNzJtYzBPQy82cCsveTM4QzhmTGlpCkFTTTlYbXl4SzFLaERRUTBEVThkQWVZMmlROTM4cjV2Z3ltWG5LdlBxWkxKOW9hc1BVTG5uR3ZpdU5VaUtGYVhKcmtFc2EKNkc2Q3QrRDFsY25ITlR2Q05vZklrcWtTRWY2bDhVSXJsVCtXalk2QnFXbVZNYUZKUUFBQURCQU9oVmVOWDIxdjJVREx4NwowaG9wVWVMZ0JZeUcyQk41K3JoOGcybXBxcjBhNFBRWGM3cStqNjgyVWZIOS96YURFc0dON1dlRnpxMW1IRitUZC9OaHlTCjJuZEZWZVRsNXVzeEtSUjc2ZSsvNmNqQkMwenNIam9FOHBCMlRYVWYwS3FSZENGOVBHMHhwZHZuNFRtZENKNUxValcwSEsKdmIrdmI4dDBFczRYa1ZBaVZUSFdOZytPcTZQaDM3Y2dPbmhkWGJzWVRVMHlhdUJpUWg2WnFuUmEvMDJoOUhRU0V3OERPTworWTc0SE11b3BCTG1nQVRDc0lZcDFUVEZGRUlwVFlWd0FBQU1FQS9TZTlZUG9CMjhSVXdzeTEzZVljYkxLTDZSdXlBNTY4CnVveDJRaXVjZVdiTHNpbmN6dllUUm56V3Q4MFI0S2pLY0kyQUhZZStaZ0dOUXMwOUF5c3FNeGJyZllONzBtditWWm1SYUcKYlNmWWNsTWt2L0NJdUxURXpHV1dyU1lkbHg3MGlmVFZZN0QzRXV5Y1FDdFAxU0pHUlZPRzVXTC81YThsZEhsNlBiRFE5Ygo4N29aYXBNZUhDdGhlaHhvMG9ZaUxMbnNUZmt1L1UvTGw3dSs0SGRYdmlqUHFMTU40eDFRa2FaM2dsZlRQcHpXQytySlFuCjFEZEIwak9oRVNrOFRUQUFBQUYzVmlkVzUwZFVCcGNDMHhOekl0TXpFdE1qSXRNVFk0QVFJRAotLS0tLUVORCBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0K
backend:
  phases:
    build:
      commands:
        - '# Execute Amplify CLI with the helper script'
        - eval "$(ssh-agent -s)"
        - ssh-add <(echo "$DEPLOY_KEY" | base64 -d)
        - npm install
        - amplifyPush --simple
frontend:
  phases:
    preBuild:
      commands:
        - npm ci
    build:
      commands:
        - npm run build
  artifacts:
    baseDirectory: build
    files:
      - '**/*'
  cache:
    paths:
      - node_modules/**/*
